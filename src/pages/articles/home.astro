---
import NavBar from '../../components/nav/NavBar.astro';
import Layout from '../../layouts/Layout.astro';

const articles = [
  {
    title: "Markdown",
    emoji: "üìù",
    description: "Learn how to write in Markdown for Adapt messages.",
    banner: "https://plus.unsplash.com/premium_photo-1668104454432-69c53f7196fc?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    url: "/articles/markdown",
    readTime: "3 min read",
    lastUpdated: "2025-09-06"
  },
];
---

<Layout title="Articles" hideNavBar>
  <main class="m-auto">
    <!-- Hero  -->
    <div class="flex flex-col relative overflow-hidden h-[70vh] md:h-[60vh]" id="banner">
      <NavBar transparent />
      <canvas id="mesh-gradient" data-transition-in />
      <div class="motion-safe:animate-fade-in text-center flex flex-col items-center justify-center h-full px-12 md:px-24">
        <h1 class="text-8xl mobile-xs:text-7xl font-black pb-8 font-title text-white drop-shadow-lg">Articles</h1>
        <p class="text-xl md:text-2xl text-white text-opacity-70 max-w-3xl drop-shadow-sm">
          Browse all the articles available for Adapt. Click any card to read the full guide.
        </p>
      </div>
    </div>

    <!-- Cards -->
    <section class="py-20 px-6 md:px-12 flex justify-center">
      <ul class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 max-w-[2000px] w-full">
        {articles.map(guide => (
          <li class="transition-transform hover:scale-[1.03] shadow-lg rounded-xl overflow-hidden bg-bg-1 flex flex-col">
            <a href={guide.url} class="flex flex-col h-full">
              <div class="h-48 w-full relative">
                <img
                  src={guide.banner}
                  alt={guide.title}
                  class="object-cover w-full h-full transition-transform duration-300 hover:scale-105"
                />
              </div>

              <div class="p-4 flex-1 flex flex-col justify-between">
                <h3 class="text-xl font-bold mb-2">{guide.emoji} {guide.title}</h3>
                <p class="text-sm text-white text-opacity-80 mb-3">{guide.description}</p>

                <div class="text-xs text-white text-opacity-70 flex justify-between items-center mt-auto gap-2">
                  <span class="flex items-center gap-1">
                    <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                      <path d="M12 8v5l4 2"></path>
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                    {guide.readTime}
                  </span>
                  <span class="flex items-center gap-1">
                    <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                      <path d="M4 4h16v16H4z" stroke="currentColor" stroke-width="2" fill="none"/>
                      <path d="M4 10h16" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    {guide.lastUpdated}
                  </span>
                </div>
              </div>
            </a>
          </li>
        ))}
      </ul>
    </section>
  </main>
</Layout>

<script>
import { Gradient } from 'whatamesh';

const gradient = new Gradient();
gradient.initGradient('#mesh-gradient');

const banner = document.getElementById('banner');
banner.addEventListener('mouseover', () => gradient.play());
banner.addEventListener('mouseout', () => gradient.pause());
</script>

<style>
#mesh-gradient {
  top: 0;
  left: 0;
  display: flex;
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: 0.5;
  z-index: -1;
  --gradient-color-1: #0586ff;
  --gradient-color-2: #9500f2;
  --gradient-color-3: #ff3d94;
  --gradient-color-4: #0056c6;
}
</style>
